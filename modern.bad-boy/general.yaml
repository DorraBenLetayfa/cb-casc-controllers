jenkins:
  quietPeriod: 1
  views:
    - all:
        name: all
  labelAtoms:
  - name: "built-in"
  labelString: "built-in"
  numExecutors: 2
beekeeper:
  enabled: false
unclassified:
  # Best-Practice: Discard Old Builds
  # https://support.cloudbees.com/hc/en-us/articles/215549798
  buildDiscarders:
    configuredBuildDiscarders:
      - "jobBuildDiscarder"
      - simpleBuildDiscarder:
          discarder:
            logRotator:
              numToKeepStr: "3"
kube:
  podTemplatesConfiguration:
    templates:
      - containers:
          - args: "cat"
            command: "/bin/sh -c"
            image: "maven:3.8.1-jdk-8"
            livenessProbe:
              failureThreshold: 0
              initialDelaySeconds: 0
              periodSeconds: 0
              successThreshold: 0
              timeoutSeconds: 0
            name: "maven"
            ttyEnabled: true
            workingDir: "/home/jenkins/agent"
        idleMinutes: 5
        idleMinutesStr: "5"
        label: "maven"
        name: "maven"
        nodeUsageMode: "NORMAL"
        volumes:
          - persistentVolumeClaim:
              claimName: "jenkins-agents-maven-cache"
              mountPath: "/root/.m2/repository"
              readOnly: false
        yaml: |-
          apiVersion: v1
          kind: Pod
          spec:
            tolerations:
              - key: "dedicated"
                operator: "Equal"
                value: "build"
                effect: "NoSchedule"
        yamlMergeStrategy: "override"
        yamls:
          # - |-
          #   apiVersion: v1
          #   kind: Pod
          #   spec:
          #     tolerations:
          #       - key: "dedicated"
          #         operator: "Equal"
          #         value: "build"
          #         effect: "NoSchedule"
